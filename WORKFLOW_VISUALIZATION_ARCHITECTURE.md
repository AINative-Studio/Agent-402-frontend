# Workflow Visualization - Architecture Diagram

## Component Hierarchy

```
RunDetail.tsx (Page)
    â”‚
    â”œâ”€> WorkflowVisualization.tsx (Component)
    â”‚       â”‚
    â”‚       â”œâ”€> useWorkflowStream.ts (Hook)
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€> Polls data every 2s
    â”‚       â”‚       â”œâ”€> Reconstructs workflow state
    â”‚       â”‚       â””â”€> Returns: workflowState, error, start/stop
    â”‚       â”‚
    â”‚       â”œâ”€> Workflow Header
    â”‚       â”‚       â”œâ”€> Status badge (RUNNING/COMPLETED)
    â”‚       â”‚       â””â”€> Duration timer
    â”‚       â”‚
    â”‚       â”œâ”€> Agent Flow Visualization (Grid)
    â”‚       â”‚       â”œâ”€> AgentCard (Analyst)
    â”‚       â”‚       â”‚       â”œâ”€> Status icon
    â”‚       â”‚       â”‚       â”œâ”€> Progress bar
    â”‚       â”‚       â”‚       â”œâ”€> DID display
    â”‚       â”‚       â”‚       â””â”€> Output (expandable)
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€> Flow Arrow 1 (Analyst â†’ Compliance)
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€> AgentCard (Compliance)
    â”‚       â”‚       â”‚       â”œâ”€> Status icon
    â”‚       â”‚       â”‚       â”œâ”€> Progress bar
    â”‚       â”‚       â”‚       â”œâ”€> DID display
    â”‚       â”‚       â”‚       â””â”€> Output (expandable)
    â”‚       â”‚       â”‚
    â”‚       â”‚       â”œâ”€> Flow Arrow 2 (Compliance â†’ Transaction)
    â”‚       â”‚       â”‚
    â”‚       â”‚       â””â”€> AgentCard (Transaction)
    â”‚       â”‚               â”œâ”€> Status icon
    â”‚       â”‚               â”œâ”€> Progress bar
    â”‚       â”‚               â”œâ”€> DID display
    â”‚       â”‚               â””â”€> Output (expandable)
    â”‚       â”‚
    â”‚       â””â”€> Timeline View
    â”‚               â”œâ”€> Analyst timeline entry
    â”‚               â”œâ”€> Compliance timeline entry
    â”‚               â””â”€> Transaction timeline entry
    â”‚
    â””â”€> Execution Timeline (Original)
```

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      RunDetail Page                         â”‚
â”‚                                                             â”‚
â”‚  useMemories() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚  useComplianceEvents() â”€â”€â”€â”€â”€â”€â”¼â”€â”€> Props                    â”‚
â”‚  useX402Requests() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              WorkflowVisualization Component                â”‚
â”‚                                                             â”‚
â”‚  Props: { memory, compliance, x402Requests }               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 useWorkflowStream Hook                      â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ State Management                             â”‚          â”‚
â”‚  â”‚ - workflowState                              â”‚          â”‚
â”‚  â”‚ - isStreaming                                â”‚          â”‚
â”‚  â”‚ - error                                      â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Polling Loop (every 2s)                      â”‚          â”‚
â”‚  â”‚ 1. Check for data changes                    â”‚          â”‚
â”‚  â”‚ 2. Reconstruct workflow state                â”‚          â”‚
â”‚  â”‚ 3. Update React state                        â”‚          â”‚
â”‚  â”‚ 4. Trigger re-render                         â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ State Reconstruction Logic                   â”‚          â”‚
â”‚  â”‚                                              â”‚          â”‚
â”‚  â”‚ memory[] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚          â”‚
â”‚  â”‚                    â”‚                         â”‚          â”‚
â”‚  â”‚ compliance[] â”€â”€â”€â”€â”€â”€â”¼â”€â”€> Agent Detection      â”‚          â”‚
â”‚  â”‚                    â”‚    - Role matching      â”‚          â”‚
â”‚  â”‚ x402Requests[] â”€â”€â”€â”€â”˜    - Status calc        â”‚          â”‚
â”‚  â”‚                         - Progress calc      â”‚          â”‚
â”‚  â”‚                                              â”‚          â”‚
â”‚  â”‚ Output: WorkflowState                        â”‚          â”‚
â”‚  â”‚   â”œâ”€> agents.analyst                         â”‚          â”‚
â”‚  â”‚   â”œâ”€> agents.compliance                      â”‚          â”‚
â”‚  â”‚   â”œâ”€> agents.transaction                     â”‚          â”‚
â”‚  â”‚   â””â”€> dataFlows[]                            â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  React Re-render                            â”‚
â”‚                                                             â”‚
â”‚  workflowState â”€â”€â”€â”€â”€â”€â”¬â”€â”€> AgentCard (Analyst)              â”‚
â”‚                      â”œâ”€â”€> AgentCard (Compliance)           â”‚
â”‚                      â”œâ”€â”€> AgentCard (Transaction)          â”‚
â”‚                      â”œâ”€â”€> Flow Arrows                      â”‚
â”‚                      â””â”€â”€> Timeline View                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## State Reconstruction Algorithm

```
INPUT: memory[], compliance[], x402Requests[]

STEP 1: Initialize State
  â”œâ”€> Create empty WorkflowState
  â”œâ”€> Set all agents to "pending"
  â””â”€> Set progress to 0%

STEP 2: Detect Agent Data
  â”œâ”€> Filter memory by agent_role
  â”‚   â”œâ”€> analyst_memories = memory.filter(role includes "analyst")
  â”‚   â”œâ”€> compliance_memories = memory.filter(role includes "compliance")
  â”‚   â””â”€> transaction_memories = memory.filter(role includes "transaction")
  â”‚
  â””â”€> Use dedicated data sources
      â”œâ”€> compliance_events = compliance[]
      â””â”€> x402_requests = x402Requests[]

STEP 3: Update Agent States
  For each agent (analyst, compliance, transaction):
    â”‚
    â”œâ”€> IF has data:
    â”‚   â”œâ”€> status = "completed"
    â”‚   â”œâ”€> progress = 100
    â”‚   â”œâ”€> startedAt = first_data_entry.created_at
    â”‚   â”œâ”€> completedAt = last_data_entry.created_at
    â”‚   â””â”€> output = last_data_entry.content/details
    â”‚
    â””â”€> ELSE:
        â””â”€> Keep as "pending"

STEP 4: Determine Current Agent
  â”œâ”€> IF transaction completed:
  â”‚   â””â”€> currentAgent = "transaction", status = "completed"
  â”‚
  â”œâ”€> ELSE IF compliance completed:
  â”‚   â”œâ”€> currentAgent = "transaction"
  â”‚   â”œâ”€> transaction.status = "active"
  â”‚   â””â”€> overall status = "running"
  â”‚
  â”œâ”€> ELSE IF analyst completed:
  â”‚   â”œâ”€> currentAgent = "compliance"
  â”‚   â”œâ”€> compliance.status = "active"
  â”‚   â””â”€> overall status = "running"
  â”‚
  â””â”€> ELSE:
      â””â”€> currentAgent = "analyst", status = "pending"

STEP 5: Calculate Data Flows
  â”œâ”€> dataFlow[0] (analyst â†’ compliance)
  â”‚   â””â”€> active = (analyst completed)
  â”‚
  â””â”€> dataFlow[1] (compliance â†’ transaction)
      â””â”€> active = (compliance completed)

STEP 6: Calculate Timing
  â”œâ”€> startedAt = analyst.startedAt
  â”œâ”€> completedAt = transaction.completedAt (if completed)
  â””â”€> elapsedTime = (endTime - startTime) in seconds

OUTPUT: WorkflowState
```

## Agent Detection Rules

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Agent: ANALYST                           â”‚
â”‚                                                             â”‚
â”‚  Detection:                                                 â”‚
â”‚  - memory entries with agent_role containing "analyst"     â”‚
â”‚                                                             â”‚
â”‚  Status Transitions:                                        â”‚
â”‚  pending â”€â”€> active â”€â”€> completed                          â”‚
â”‚     â†‘          â”‚           â”‚                                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚         (based on data presence)                            â”‚
â”‚                                                             â”‚
â”‚  Output Data:                                               â”‚
â”‚  - content: Last memory entry content                      â”‚
â”‚  - summary: Memory summary field                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Agent: COMPLIANCE                          â”‚
â”‚                                                             â”‚
â”‚  Detection (Priority Order):                                â”‚
â”‚  1. compliance[] array (preferred)                         â”‚
â”‚  2. memory entries with agent_role containing "compliance" â”‚
â”‚                                                             â”‚
â”‚  Status Transitions:                                        â”‚
â”‚  pending â”€â”€> active â”€â”€> completed                          â”‚
â”‚     â†‘          â”‚           â”‚                                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                             â”‚
â”‚  Output Data:                                               â”‚
â”‚  - riskScore: Compliance event risk score                  â”‚
â”‚  - passed: Boolean pass/fail                               â”‚
â”‚  - details: Event details object                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Agent: TRANSACTION                          â”‚
â”‚                                                             â”‚
â”‚  Detection (Priority Order):                                â”‚
â”‚  1. x402Requests[] array (preferred)                       â”‚
â”‚  2. memory entries with agent_role containing "transaction"â”‚
â”‚                                                             â”‚
â”‚  Status Transitions:                                        â”‚
â”‚  pending â”€â”€> active â”€â”€> completed                          â”‚
â”‚     â†‘          â”‚           â”‚                                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                             â”‚
â”‚  Output Data:                                               â”‚
â”‚  - requestId: X402 request ID                              â”‚
â”‚  - status: Request status                                  â”‚
â”‚  - signature: Cryptographic signature                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Polling Mechanism

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Polling Lifecycle                         â”‚
â”‚                                                             â”‚
â”‚  Component Mount                                            â”‚
â”‚      â”‚                                                      â”‚
â”‚      â–¼                                                      â”‚
â”‚  useEffect(() => {                                          â”‚
â”‚      if (autoStart) startStreaming();                       â”‚
â”‚      return () => stopStreaming();                          â”‚
â”‚  }, [autoStart])                                            â”‚
â”‚      â”‚                                                      â”‚
â”‚      â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚   startStreaming()             â”‚                        â”‚
â”‚  â”‚   â”œâ”€> Set isStreaming = true   â”‚                        â”‚
â”‚  â”‚   â”œâ”€> Initial state update     â”‚                        â”‚
â”‚  â”‚   â””â”€> Start interval           â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚      â”‚                                                      â”‚
â”‚      â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  setInterval(() => {                    â”‚               â”‚
â”‚  â”‚      updateWorkflowState();             â”‚               â”‚
â”‚  â”‚  }, pollingInterval)                    â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚      â”‚                                                      â”‚
â”‚      â–¼                                                      â”‚
â”‚  Every 2 seconds:                                           â”‚
â”‚  â”œâ”€> Check for data changes                                â”‚
â”‚  â”œâ”€> Reconstruct state if changed                          â”‚
â”‚  â”œâ”€> Update React state                                    â”‚
â”‚  â””â”€> Trigger re-render                                     â”‚
â”‚      â”‚                                                      â”‚
â”‚      â–¼                                                      â”‚
â”‚  Component Unmount                                          â”‚
â”‚      â”‚                                                      â”‚
â”‚      â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚   stopStreaming()              â”‚                        â”‚
â”‚  â”‚   â”œâ”€> Set isStreaming = false  â”‚                        â”‚
â”‚  â”‚   â””â”€> clearInterval()          â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Visual State Indicators

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Agent Card Visual States                   â”‚
â”‚                                                             â”‚
â”‚  PENDING                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  â±ï¸  Financial Analyst                â”‚                  â”‚
â”‚  â”‚  Gray border, Clock icon             â”‚                  â”‚
â”‚  â”‚  Progress: 0%                         â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                             â”‚
â”‚  ACTIVE                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  ðŸ”„ Financial Analyst        [â—]      â”‚ â† Pulsing dot   â”‚
â”‚  â”‚  Blue border, Spinning loader        â”‚                  â”‚
â”‚  â”‚  Progress: 0-99%                      â”‚                  â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘                 â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                             â”‚
â”‚  COMPLETED                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  âœ“  Financial Analyst                â”‚                  â”‚
â”‚  â”‚  Green border, Checkmark             â”‚                  â”‚
â”‚  â”‚  Progress: 100%                       â”‚                  â”‚
â”‚  â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ             â”‚                  â”‚
â”‚  â”‚  âŒ„ View Output                        â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                             â”‚
â”‚  ERROR                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  âš ï¸  Financial Analyst                â”‚                  â”‚
â”‚  â”‚  Red border, Alert icon              â”‚                  â”‚
â”‚  â”‚  âš  Error: Connection timeout          â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Arrows

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Flow Arrow States                        â”‚
â”‚                                                             â”‚
â”‚  INACTIVE (Gray)                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Analyst â”‚ â”€â”€â†’    â”‚ Compliance  â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                             â”‚
â”‚  ACTIVE (Blue, Animated)                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ Analyst â”‚ â•â•â–º    â”‚ Compliance  â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚       Analysis Results                                      â”‚
â”‚                                                             â”‚
â”‚  Complete Flow                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•â•â–º  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•â•â–º  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Analyst â”‚       â”‚Compliance â”‚       â”‚Transaction â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Responsive Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Desktop (1024px+)                       â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”€â”€â†’   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”€â”€â†’   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Analyst â”‚         â”‚Compliance â”‚         â”‚Transactionâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚                    3-Column Grid                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Tablet (768px+)                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚         Analyst                  â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                 â†“                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚       Compliance                 â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                 â†“                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚      Transaction                 â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                             â”‚
â”‚                 Stacked Layout                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Mobile (375px+)                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚    Analyst        â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚           â†“                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚   Compliance      â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚           â†“                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚   Transaction     â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                             â”‚
â”‚        Single Column                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Considerations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Optimization Strategy                     â”‚
â”‚                                                             â”‚
â”‚  React Hooks                                                â”‚
â”‚  â”œâ”€> useCallback: Memoize event handlers                   â”‚
â”‚  â”œâ”€> useRef: Store interval without re-renders             â”‚
â”‚  â””â”€> useEffect: Cleanup on unmount                         â”‚
â”‚                                                             â”‚
â”‚  Change Detection                                           â”‚
â”‚  â”œâ”€> Compare array lengths                                 â”‚
â”‚  â”œâ”€> Only reconstruct on actual changes                    â”‚
â”‚  â””â”€> Previous state reference                              â”‚
â”‚                                                             â”‚
â”‚  Rendering                                                  â”‚
â”‚  â”œâ”€> Minimal re-renders (<16ms target)                     â”‚
â”‚  â”œâ”€> CSS transitions for smooth animations                 â”‚
â”‚  â””â”€> Lazy expansion of output details                      â”‚
â”‚                                                             â”‚
â”‚  Memory Management                                          â”‚
â”‚  â”œâ”€> Clear intervals on unmount                            â”‚
â”‚  â”œâ”€> No memory leaks                                       â”‚
â”‚  â””â”€> Efficient state updates                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Integration Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Backend API Endpoints                      â”‚
â”‚                                                             â”‚
â”‚  Current (Polling)                                          â”‚
â”‚  â”œâ”€> GET /{projectId}/memory?run_id={runId}               â”‚
â”‚  â”œâ”€> GET /{projectId}/compliance/events?run_id={runId}    â”‚
â”‚  â””â”€> GET /{projectId}/x402/requests?run_id={runId}        â”‚
â”‚                                                             â”‚
â”‚  Future (WebSocket/SSE)                                     â”‚
â”‚  â”œâ”€> WS  ws://{api}/workflow/{runId}/stream               â”‚
â”‚  â”œâ”€> SSE {api}/workflow/{runId}/events                     â”‚
â”‚  â””â”€> Event types:                                          â”‚
â”‚      â”œâ”€> agent_started                                     â”‚
â”‚      â”œâ”€> agent_progress                                    â”‚
â”‚      â”œâ”€> agent_completed                                   â”‚
â”‚      â”œâ”€> agent_error                                       â”‚
â”‚      â”œâ”€> data_flow                                         â”‚
â”‚      â””â”€> workflow_completed                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Type System

```
WorkflowState
â”œâ”€> runId: string
â”œâ”€> status: 'pending' | 'running' | 'completed' | 'failed'
â”œâ”€> currentAgent?: WorkflowAgentType
â”œâ”€> agents
â”‚   â”œâ”€> analyst: WorkflowAgentState
â”‚   â”œâ”€> compliance: WorkflowAgentState
â”‚   â””â”€> transaction: WorkflowAgentState
â”œâ”€> dataFlows: WorkflowDataFlow[]
â”œâ”€> startedAt?: string
â”œâ”€> completedAt?: string
â””â”€> elapsedTime?: number

WorkflowAgentState
â”œâ”€> agentType: 'analyst' | 'compliance' | 'transaction'
â”œâ”€> name: string
â”œâ”€> did: string
â”œâ”€> status: 'pending' | 'active' | 'completed' | 'error'
â”œâ”€> startedAt?: string
â”œâ”€> completedAt?: string
â”œâ”€> progress: number (0-100)
â”œâ”€> currentTask?: string
â”œâ”€> output?: Record<string, unknown>
â””â”€> error?: string

WorkflowDataFlow
â”œâ”€> from: WorkflowAgentType
â”œâ”€> to: WorkflowAgentType
â”œâ”€> label: string
â”œâ”€> active: boolean
â””â”€> data?: Record<string, unknown>
```

## Future Architecture (WebSocket)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                WebSocket Integration (Future)               â”‚
â”‚                                                             â”‚
â”‚  Backend                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  CrewAI Workflow Engine            â”‚                    â”‚
â”‚  â”‚  â”œâ”€> Agent Analyst starts          â”‚                    â”‚
â”‚  â”‚  â”‚   â””â”€> Emit: agent_started       â”‚                    â”‚
â”‚  â”‚  â”œâ”€> Agent progress 50%            â”‚                    â”‚
â”‚  â”‚  â”‚   â””â”€> Emit: agent_progress      â”‚                    â”‚
â”‚  â”‚  â””â”€> Agent completed                â”‚                    â”‚
â”‚  â”‚      â””â”€> Emit: agent_completed     â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼ WebSocket Events                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  WebSocket Handler                 â”‚                    â”‚
â”‚  â”‚  â”œâ”€> ws://api/workflow/run/stream  â”‚                    â”‚
â”‚  â”‚  â””â”€> Broadcast events to clients   â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚  Frontend                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  useWorkflowStream Hook            â”‚                    â”‚
â”‚  â”‚  â”œâ”€> Connect WebSocket             â”‚                    â”‚
â”‚  â”‚  â”œâ”€> Listen for events             â”‚                    â”‚
â”‚  â”‚  â””â”€> Update state in real-time     â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚              â”‚                                               â”‚
â”‚              â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  WorkflowVisualization             â”‚                    â”‚
â”‚  â”‚  â””â”€> Instant updates (no polling)  â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
